
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/chatbox.css' %}">
{% endblock %}

{% block content %}
<!-- Chatbox -->
<div id="chatbox" style="display:none; position:fixed; bottom:80px; right:20px; width:300px; border:1px solid #ccc; border-radius:10px; background:#fff; box-shadow: 0 0 10px rgba(0,0,0,0.2); z-index: 9999;">
  <div style="background:#198754; color:white; padding:10px; border-top-left-radius:10px; border-top-right-radius:10px;">
    Chat Support
    <button onclick="closeChatBox()" style="float:right; background:none; border:none; color:white;">Ã—</button>
  </div>
  <div style="padding:10px;" id="chat-body">
    <div><strong>Support:</strong> How can I help you?</div>
  </div>
  <div style="padding:10px;">
    <input type="text" id="userMessage" class="form-control" placeholder="Type your message" onkeypress="handleKeyPress(event)">
  </div>
</div>
{% endblock %}

{% block script %}
<script>
  function openChatBox() {
    document.getElementById('chatbox').style.display = 'block';
  }

  function closeChatBox() {
    document.getElementById('chatbox').style.display = 'none';
  }

  function handleKeyPress(event) {
    if (event.key === "Enter") {
      let msg = document.getElementById('userMessage').value;
      if (msg.trim() === "") return;

      let chatBody = document.getElementById('chat-body');
      chatBody.innerHTML += `<div><strong>You:</strong> ${msg}</div>`;
      chatBody.innerHTML += `<div><strong>Support:</strong> For more details WhatsApp on this number xxxxxxxxxx</div>`;
      document.getElementById('userMessage').value = "";
    }
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
